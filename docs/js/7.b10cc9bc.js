(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"2d81":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("q-page",{staticClass:"q-pa-lg"},[e("MyConnectButton"),t._l(t.games,(function(t){return e("game-card",{key:t.id,attrs:{info:t}})}))],2)},i=[],n=(a("14d9"),a("2f62")),r=a("96cf"),s=a("c030"),c=a("c0d8"),_=a.n(c),l=a("efc0"),d=function(){var t=this,e=t._self._c;return e("div",[e("pre",[t._v("    "+t._s(t.info)+"\n  ")])])},u=[],g={name:"GameCard",props:["info"]},m=g,p=a("2877"),f=Object(p["a"])(m,d,u,!1,null,null,null),h=f.exports,w=a("0b07"),b={components:{MyConnectButton:w["a"],GameCard:h},name:"Games",data(){return{games:[],info:{id:"3",title:"Deneme3",image:"https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png",ticket_count:"20",ticket_price:"0.01",start_date:"1682140437",end_date:"1682144037",award_ratio_list:"30, 10, 5",payoff_count:"10",payoff_ratio:"1",marketing_ratios:"20",marketing_addresses:"0x4b8F3c2e26F057732bD5df4F07C33b001d82E40D, 0x1719fF78022C747FC6eD6ab8F7ce788b7a9c73E6"}}},computed:{...Object(n["c"])("app",["web3","account","balance"]),...Object(n["b"])("app",["getProvider"])},async mounted(){for(let e=0;e<100;e++)try{const t=await this.GET_INSTANCE(e+1);this.games.push(t)}catch(t){break}},methods:{async GET_INSTANCE(t){this.$env.console.log("[GET_INSTANCE]:");const e=new s["a"].providers.JsonRpcProvider(l["c"]),a=new s["a"].Contract(l["a"],l["b"].abi,e),o=await a.getInstance(t);this.$env.console.log(o),this.$env.console.log(o.toString());try{const t={id:_.a.utils.toNumber(o.id),title:o.title,image:o.image,ticket_count:_.a.utils.toDecimal(o.ticket_count_price[0]),ticket_price:_.a.utils.fromWei(_.a.utils.hexToNumberString(_.a.utils.toHex(o.ticket_count_price[1])),"ether"),start_date:_.a.utils.toDecimal(o.start_end_date[0]),end_date:_.a.utils.toDecimal(o.start_end_date[1]),award_ratio_list:o.award_ratio_list.map((t=>_.a.utils.toDecimal(t))),payoff_count:_.a.utils.toDecimal(o.payoff_count_ratio[0]),payoff_ratio:_.a.utils.toDecimal(o.payoff_count_ratio[1]),marketing_ratios:o.marketing_ratios.map((t=>_.a.utils.toDecimal(t))),marketing_addresses:o.marketing_addresses};return this.$env.console.log(t),t}catch(i){return Promise.error(i)}},async CREATE_INSTANCE(){this.$env.console.log("[CREATE_INSTANCE]:");const{id:t,title:e,image:a,ticket_count:o,ticket_price:i,start_date:n,end_date:c,award_ratio_list:d,payoff_count:u,payoff_ratio:g,marketing_ratios:m,marketing_addresses:p}=this.info,f=_.a.utils.toWei(i,"ether"),h={_id:t,_title:e,_image:a,_ticket_count_price:[o,f],_start_end_date:[n,c],_award_ratio_list:d.split(",").map((t=>parseInt(t,10))),_payoff_count_ratio:[u,g],_marketing_ratios:m.split(",").map((t=>parseInt(t,10))),_marketing_addresses:p.split(",").map((t=>t.trim()))};this.$env.console.log(h);const w=await this.getProvider.getNetwork(),{chainId:b,name:k}=w;if(this.$env.console.log("[NERWORK]:",b,k),"sepolia"!==k)try{await this.SWITCH_NETWORK()}catch(v){return new Error(v)}const y=this.getProvider.getSigner();try{const t=new s["a"].Contract(l["a"],l["b"].abi,y);this.$env.console.log("contract:",t);try{const e=await t.functions.createInstance(...Object.values(h));await e.wait(),Object(r["a"])({message:"Congrats!!! Game Created Successfuly!!!",type:"success"})}catch(v){return this.$env.console.error(v),Object(r["a"])({message:v.reason||v.message,type:"error"}),new Error(v)}}catch(v){return new Error(v)}}}},k=b,y=a("9989"),v=a("9c40"),C=a("27f9"),E=a("eebe"),N=a.n(E),T=Object(p["a"])(k,o,i,!1,null,null,null);e["default"]=T.exports;N()(T,"components",{QPage:y["a"],QBtn:v["a"],QInput:C["a"]})}}]);